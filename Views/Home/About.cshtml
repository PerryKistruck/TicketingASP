@{
    ViewData["Title"] = "About";
}

<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <!-- Header -->
            <div class="text-center mb-5">
                <h1 class="display-5" style="color: var(--primary);"><i class="bi bi-headset me-3"></i>IGD Support</h1>
                <p class="lead text-muted">A modern, secure ticketing system built with ASP.NET Core</p>
            </div>

            <!-- Project Overview -->
            <div class="card mb-4">
                <div class="card-header text-white" style="background-color: var(--primary);">
                    <h4 class="mb-0 text-white"><i class="bi bi-info-circle me-2"></i>Project Overview</h4>
                </div>
                <div class="card-body">
                    <p>
                        IGD Support is a full-featured IT service management and ticketing solution designed to streamline 
                        support workflows. Built as a demonstration of modern web development practices, this application 
                        showcases enterprise-grade architecture patterns while maintaining simplicity and usability.
                    </p>
                    <p class="mb-0">
                        The system enables organisations to manage support requests, track issues, assign work to teams, 
                        and generate comprehensive reports on team performance and SLA compliance.
                    </p>
                </div>
            </div>

            <!-- Technology Stack -->
            <div class="card mb-4">
                <div class="card-header text-white" style="background-color: var(--primary);">
                    <h4 class="mb-0 text-white"><i class="bi bi-stack me-2"></i>Technology Stack</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5 style="color: var(--primary);"><i class="bi bi-server me-2"></i>Backend</h5>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>ASP.NET Core 10</strong> - Web framework</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>C# 13</strong> - Programming language</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Entity Framework Core</strong> - ORM for database access</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Dapper</strong> - Micro-ORM for stored procedure calls</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>PostgreSQL</strong> - Relational database</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Npgsql</strong> - .NET data provider for PostgreSQL</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5 style="color: var(--primary);"><i class="bi bi-window me-2"></i>Frontend</h5>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Razor Views</strong> - Server-side rendering</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Bootstrap 5.3</strong> - CSS framework</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Bootstrap Icons</strong> - Icon library</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Vanilla JavaScript</strong> - Client-side interactivity</li>
                            </ul>
                            <h5 class="mt-4" style="color: var(--primary);"><i class="bi bi-cloud me-2"></i>Cloud & DevOps</h5>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Azure App Service</strong> - Web hosting</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Azure PostgreSQL</strong> - Managed database</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>GitHub Actions</strong> - CI/CD pipeline</li>
                            </ul>
                        </div>
                    </div>
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <h5 style="color: var(--primary);"><i class="bi bi-bug me-2"></i>Testing</h5>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>xUnit</strong> - Unit testing framework</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Moq</strong> - Mocking library</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>FluentAssertions</strong> - Readable assertions</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Coverlet</strong> - Code coverage</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Playwright</strong> - E2E browser testing</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5 style="color: var(--primary);"><i class="bi bi-speedometer2 me-2"></i>Quality Assurance</h5>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>OWASP Security Tests</strong> - Automated security validation</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Code Coverage Reports</strong> - HTML coverage visualization</li>
                                <li><i class="bi bi-check-circle me-2" style="color: var(--success);"></i><strong>Automated E2E Tests</strong> - Post-deployment validation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Architecture -->
            <div class="card mb-4">
                <div class="card-header text-white" style="background-color: var(--primary);">
                    <h4 class="mb-0 text-white"><i class="bi bi-diagram-3 me-2"></i>Architecture</h4>
                </div>
                <div class="card-body">
                    <p>The application follows a clean, layered architecture pattern:</p>
                    <div class="row text-center mb-4">
                        <div class="col-md-3 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-window-stack fs-1" style="color: var(--primary);"></i>
                                <h6 class="mt-2 mb-1">Controllers</h6>
                                <small class="text-muted">Handle HTTP requests</small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-gear fs-1" style="color: var(--primary);"></i>
                                <h6 class="mt-2 mb-1">Services</h6>
                                <small class="text-muted">Business logic layer</small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-database fs-1" style="color: var(--primary);"></i>
                                <h6 class="mt-2 mb-1">Repositories</h6>
                                <small class="text-muted">Data access layer</small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-hdd-stack fs-1" style="color: var(--primary);"></i>
                                <h6 class="mt-2 mb-1">Database</h6>
                                <small class="text-muted">PostgreSQL with stored procedures</small>
                            </div>
                        </div>
                    </div>
                    <ul>
                        <li><strong>MVC Pattern</strong> - Clear separation of Models, Views, and Controllers</li>
                        <li><strong>Repository Pattern</strong> - Abstracts data access logic from business logic</li>
                        <li><strong>Dependency Injection</strong> - Built-in IoC container for loose coupling</li>
                        <li><strong>DTO Pattern</strong> - Data Transfer Objects for clean API boundaries</li>
                    </ul>
                </div>
            </div>

            <!-- Features -->
            <div class="card mb-4">
                <div class="card-header text-white" style="background-color: var(--primary);">
                    <h4 class="mb-0 text-white"><i class="bi bi-list-check me-2"></i>Features & Capabilities</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5><i class="bi bi-ticket me-2" style="color: var(--primary);"></i>Ticket Management</h5>
                            <ul>
                                <li>Create, edit, and delete tickets</li>
                                <li>Assign to users and teams</li>
                                <li>Priority and category classification</li>
                                <li>Status workflow management</li>
                                <li>Due date tracking with SLA support</li>
                                <li>Comment system with internal notes</li>
                                <li>Full audit history</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5><i class="bi bi-people me-2" style="color: var(--primary);"></i>Team Management</h5>
                            <ul>
                                <li>Create and manage teams</li>
                                <li>Assign team managers</li>
                                <li>Add/remove team members</li>
                                <li>Team-based ticket assignment</li>
                                <li>Team performance tracking</li>
                            </ul>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <h5><i class="bi bi-graph-up me-2" style="color: var(--primary);"></i>Reporting & Analytics</h5>
                            <ul>
                                <li>Real-time dashboard with key metrics</li>
                                <li>Tickets by status/priority/category</li>
                                <li>Team and agent performance reports</li>
                                <li>SLA compliance tracking</li>
                                <li>Ticket trend analysis</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5><i class="bi bi-person-badge me-2" style="color: var(--primary);"></i>User Management</h5>
                            <ul>
                                <li>User registration and authentication</li>
                                <li>Role-based access control</li>
                                <li>Profile management</li>
                                <li>Password change functionality</li>
                                <li>Account lockout protection</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Security -->
            <div class="card mb-4">
                <div class="card-header text-white" style="background-color: var(--secondary);">
                    <h4 class="mb-0 text-white"><i class="bi bi-shield-lock me-2"></i>Security Practices</h4>
                </div>
                <div class="card-body">
                    <p>Security is a core focus of IGD Support. The following measures are implemented:</p>
                    
                    <h5 style="color: var(--secondary);"><i class="bi bi-key me-2"></i>Authentication & Authorisation</h5>
                    <ul>
                        <li><strong>Cookie-based Authentication</strong> - Secure, HTTP-only cookies with sliding expiration</li>
                        <li><strong>Role-based Authorisation</strong> - Four roles: Administrator, Manager, Agent, User</li>
                        <li><strong>Policy-based Access Control</strong> - Fine-grained permissions for different actions</li>
                        <li><strong>Fallback Authorisation Policy</strong> - All endpoints require authentication by default</li>
                    </ul>

                    <h5 class="mt-4" style="color: var(--secondary);"><i class="bi bi-lock me-2"></i>Password Security</h5>
                    <ul>
                        <li><strong>PBKDF2 Hashing</strong> - Passwords hashed with 10,000 iterations of SHA-256</li>
                        <li><strong>Random Salt Generation</strong> - Unique 32-byte salt per password</li>
                        <li><strong>Password Complexity</strong> - Minimum 8 characters with letters, numbers, and special characters</li>
                        <li><strong>Account Lockout</strong> - Automatic lockout after 5 failed login attempts</li>
                    </ul>

                    <h5 class="mt-4" style="color: var(--secondary);"><i class="bi bi-database-lock me-2"></i>Database Security</h5>
                    <ul>
                        <li><strong>Stored Procedures</strong> - All database operations via stored procedures to prevent SQL injection</li>
                        <li><strong>Parameterised Queries</strong> - No string concatenation in SQL queries</li>
                        <li><strong>Connection String Protection</strong> - Secrets stored in Azure App Settings, not in code</li>
                        <li><strong>SSL/TLS Connections</strong> - Encrypted database connections</li>
                    </ul>

                    <h5 class="mt-4" style="color: var(--secondary);"><i class="bi bi-shield-check me-2"></i>Web Security</h5>
                    <ul>
                        <li><strong>CSRF Protection</strong> - Anti-forgery tokens on all forms</li>
                        <li><strong>HTTPS Enforcement</strong> - HSTS enabled in production</li>
                        <li><strong>Input Validation</strong> - Server-side validation with Data Annotations</li>
                        <li><strong>XSS Prevention</strong> - Razor automatically encodes output</li>
                    </ul>

                    <h5 class="mt-4" style="color: var(--secondary);"><i class="bi bi-journal-text me-2"></i>Audit & Logging</h5>
                    <ul>
                        <li><strong>Action Logging</strong> - All significant actions logged with timestamps</li>
                        <li><strong>Login Tracking</strong> - IP address and user agent recorded on login</li>
                        <li><strong>Ticket History</strong> - Complete audit trail of all ticket changes</li>
                        <li><strong>Structured Logging</strong> - Using ILogger for consistent log output</li>
                    </ul>
                </div>
            </div>

            <!-- CI/CD & Testing -->
            <div class="card mb-4">
                <div class="card-header text-white" style="background-color: var(--info);">
                    <h4 class="mb-0 text-white"><i class="bi bi-arrow-repeat me-2"></i>CI/CD Pipeline & Testing</h4>
                </div>
                <div class="card-body">
                    <p>Automated build, test, and deployment pipeline ensures code quality and reliability:</p>
                    
                    <div class="row text-center mb-4">
                        <div class="col-md-2 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-git fs-2" style="color: var(--info);"></i>
                                <h6 class="mt-2 mb-0">Push</h6>
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-hammer fs-2" style="color: var(--info);"></i>
                                <h6 class="mt-2 mb-0">Build</h6>
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-check2-square fs-2" style="color: var(--info);"></i>
                                <h6 class="mt-2 mb-0">Unit Tests</h6>
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-cloud-upload fs-2" style="color: var(--info);"></i>
                                <h6 class="mt-2 mb-0">Deploy</h6>
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--gray-100);">
                                <i class="bi bi-display fs-2" style="color: var(--info);"></i>
                                <h6 class="mt-2 mb-0">E2E Tests</h6>
                            </div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <div class="p-3 rounded" style="background-color: var(--success);">
                                <i class="bi bi-check-circle fs-2 text-white"></i>
                                <h6 class="mt-2 mb-0 text-white">Live</h6>
                            </div>
                        </div>
                    </div>

                    <h5 style="color: var(--info);"><i class="bi bi-github me-2"></i>GitHub Actions Workflow</h5>
                    <ul>
                        <li><strong>Automatic Triggers</strong> - Build on push to main branch and pull requests</li>
                        <li><strong>Multi-stage Pipeline</strong> - Build → Test → Deploy → E2E validation</li>
                        <li><strong>Azure Federated Credentials</strong> - Secure, passwordless deployment to Azure</li>
                        <li><strong>Artifact Upload</strong> - Test results and reports stored for review</li>
                    </ul>

                    <h5 class="mt-4" style="color: var(--info);"><i class="bi bi-clipboard-check me-2"></i>Unit Testing (113 Tests)</h5>
                    <ul>
                        <li><strong>Service Layer Tests</strong> - Full coverage of business logic</li>
                        <li><strong>DTO Validation Tests</strong> - Input validation rules verified</li>
                        <li><strong>Result Pattern Tests</strong> - Operation result handling validated</li>
                        <li><strong>Code Coverage Reports</strong> - Cobertura format with HTML visualization</li>
                    </ul>

                    <h5 class="mt-4" style="color: var(--info);"><i class="bi bi-browser-chrome me-2"></i>E2E Testing (Playwright)</h5>
                    <ul>
                        <li><strong>Core Functionality Tests</strong> - Ticket lifecycle, user workflows, team management</li>
                        <li><strong>Security Tests</strong> - Authentication, authorization, CSRF, XSS, SQL injection</li>
                        <li><strong>OWASP Validation</strong> - Sensitive data exposure, IDOR vulnerability checks</li>
                        <li><strong>Cross-browser Support</strong> - Chromium-based testing in CI</li>
                        <li><strong>Automatic Cleanup</strong> - Test data removed after each run</li>
                    </ul>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center text-muted py-4">
                <p class="mb-1">
                    <i class="bi bi-github me-2"></i>Developed as a demonstration project
                </p>
                <p class="mb-0">
                    <small>&copy; @DateTime.Now.Year IGD </small>
                </p>
            </div>
        </div>
    </div>
</div>
